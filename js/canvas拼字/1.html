<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>
	#wrap{
		position: relative;
		height: 200px;
		width: 200px;
	}
	#wrap span{
		position: absolute;
		width: 7px;
		height: 7px;
		border: 1px solid #000;
	}
</style>
</head>
<body>
<div id="wrap"></div>
<!--
<div>
	<input type="text" id="text" value="哥" onkeyup="draw()" autofocus="">
	<button onclick="draw()" id="btn">确定</button>
</div>
-->
<div id="puthere">

</div>
<script>
	var canvas = document.createElement('canvas');
	canvas.width = 200
	canvas.height=200
	var ctx = canvas.getContext('2d');
	var cols = 16;
	var	rows = 16;
	/*
	function lattice(txt){
		cols = txt.length * 16
		canvas.width = cols;
		canvas.height = rows;
		ctx.clearRect(0,0,cols,rows);
		ctx.font = "16px SimSun";
		ctx.fillStyle = "#fff";
	    ctx.fillText(txt, 0, 14);
		var data = ctx.getImageData(0, 0, cols, rows)
		console.log(data)
		var len = data.data.length;
		var res = '';
		
		for(var i = 1; i <= rows; i++){
			for(var j = 1; j <= cols; j++){
				var pos = (( i-1 )*cols+( j ))*4 -1;
				if(data.data[pos] > 0){
					res += `<span class="black" style="left: ${j*10}px;top: ${i*10}px"></span>`
				}
			}
		}
		
		wrap.innerHTML = res;
		
		
	}*/
	/*
	function draw(){
		var txt = text.value;
		if(txt){
			lattice(txt);
		}
	}*/
	var ph = document.getElementById('puthere');
	ph.appendChild(canvas)	
	//draw();
	ctx.font="16px SimSun"
	ctx.fillStyle = "#000"
	ctx.fillText("asdf",20,20)
	var imgData = ctx.getImageData(200,0,20,20)
	console.log(imgData)
	for (var i=0;i<imgData.data.length;i+=4)
  {
  imgData.data[i]=255-imgData.data[i];
  imgData.data[i+1]=255-imgData.data[i+1];
  imgData.data[i+2]=255-imgData.data[i+2];
  imgData.data[i+3]=255;
  }
ctx.putImageData(imgData,200,40);
</script>
</body>
</html>